{"version":3,"sources":["turbopack:///[project]/app/forgot-password/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nexport default function ForgotPasswordPage() {\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  async function sendRequest(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setIsLoading(true);\n    setMessage(\"\");\n\n    try {\n      console.log(\"ðŸ”„ Sending request to:\", \"/api/password/forgot\");\n      console.log(\"ðŸ“§ With email:\", email);\n\n      const res = await fetch(\"/api/password/forgot\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email })\n      });\n\n      console.log(\"ðŸ“¨ Response status:\", res.status);\n      console.log(\"ðŸ“¨ Response ok:\", res.ok);\n\n      // Get the raw response text first\n      const responseText = await res.text();\n      console.log(\"ðŸ“¨ Raw response:\", responseText);\n\n      // Check if it's HTML (starts with <!DOCTYPE)\n      if (responseText.trim().startsWith('<!DOCTYPE') || responseText.trim().startsWith('<html')) {\n        throw new Error(\"Server returned HTML error page. Check if API route exists.\");\n      }\n\n      // Try to parse as JSON\n      let data;\n      try {\n        data = JSON.parse(responseText);\n      } catch (parseError) {\n        console.error(\"âŒ JSON parse error:\", parseError);\n        throw new Error(`Invalid JSON response: ${responseText.substring(0, 100)}...`);\n      }\n      \n      if (!res.ok) {\n        throw new Error(data.message || `Server error: ${res.status}`);\n      }\n      \n      setMessage(data.message);\n      console.log(\"âœ… Success:\", data.message);\n\n    } catch (error) {\n      console.error(\"âŒ Request failed:\", error);\n      setMessage(error instanceof Error ? error.message : \"Something went wrong\");\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <form onSubmit={sendRequest} className=\"p-6 border rounded w-96\">\n        <h1 className=\"text-xl mb-4\">Forgot Password</h1>\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          className=\"border p-2 w-full mb-3\"\n          placeholder=\"Your email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n\n        <button \n          type=\"submit\"\n          disabled={isLoading}\n          className=\"bg-gradient-to-r from-primary via-primary/95 to-primary/90 text-primary-foreground p-2 w-full rounded disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isLoading ? \"Sending...\" : \"Send Reset Link\"}\n        </button>\n\n        {message && (\n          <p className={`mt-3 text-sm ${\n            message.includes('error') || message.includes('Error') \n              ? 'text-red-600' \n              : 'text-green-600'\n          }`}>\n            {message}\n          </p>\n        )}\n      </form>\n    </div>\n  );\n}"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAE3C,eAAe,EAAY,CAAmC,EAC5D,EAAE,cAAc,GAChB,GAAa,GACb,EAAW,IAEX,GAAI,KAyBE,EAxBJ,QAAQ,GAAG,CAAC,yBAA0B,wBACtC,QAAQ,GAAG,CAAC,iBAAkB,GAE9B,IAAM,EAAM,MAAM,MAAM,uBAAwB,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,OAAE,CAAM,EAC/B,GAEA,QAAQ,GAAG,CAAC,sBAAuB,EAAI,MAAM,EAC7C,QAAQ,GAAG,CAAC,kBAAmB,EAAI,EAAE,EAGrC,IAAM,EAAe,MAAM,EAAI,IAAI,GAInC,GAHA,QAAQ,GAAG,CAAC,mBAAoB,GAG5B,EAAa,IAAI,GAAG,UAAU,CAAC,cAAgB,EAAa,IAAI,GAAG,UAAU,CAAC,SAChF,CAD0F,KAChF,AAAJ,MAAU,+DAKlB,GAAI,CACF,EAAO,KAAK,KAAK,CAAC,EACpB,CAAE,MAAO,EAAY,CAEnB,MADA,QAAQ,KAAK,CAAC,sBAAuB,GAC/B,AAAI,MAAM,CAAC,uBAAuB,EAAE,EAAa,SAAS,CAAC,EAAG,KAAK,GAAG,CAAC,CAC/E,CAEA,GAAI,CAAC,EAAI,EAAE,CACT,CADW,KACL,AAAI,MAAM,EAAK,OAAO,EAAI,CAAC,cAAc,EAAE,EAAI,MAAM,CAAA,CAAE,EAG/D,EAAW,EAAK,OAAO,EACvB,QAAQ,GAAG,CAAC,aAAc,EAAK,OAAO,CAExC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,oBAAqB,GACnC,EAAW,aAAiB,MAAQ,EAAM,OAAO,CAAG,uBACtD,QAAU,CACR,GAAa,EACf,CACF,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAa,UAAU,oCACrC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wBAAe,oBAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,QACL,UAAU,yBACV,YAAY,aACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,QAAQ,CAAA,CAAA,IAGV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,EACV,UAAU,iKAET,EAAY,aAAe,oBAG7B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,aAAa,EAC1B,EAAQ,QAAQ,CAAC,UAAY,EAAQ,QAAQ,CAAC,SAC1C,eACA,iBAAA,CACJ,UACC,QAMb"}